@model List<Onboarding.ViewModels.ManageRolesViewModel>

@{
    ViewData["Title"] = "Manage Roles";
}

<h2>Manage Roles</h2>

@foreach (var userRoleModel in Model)
{
    <div>
        <h3>User Details</h3>
        <p><strong>Name:</strong> @userRoleModel.User.Name @userRoleModel.User.Surname</p>
        <p><strong>Email:</strong> @userRoleModel.User.Email</p>
    </div>

    <div>
        <h3>Assign Role</h3>
        <form method="post" asp-action="UpdateRoles" asp-controller="Admin">
            <input type="hidden" name="UserId" value="@userRoleModel.User.Id" />

            <div>
                <label for="roles">Select Role:</label>
                <div>
                    @foreach (var role in userRoleModel.AvailableRoles)
                    {
                        <div class="form-check">
                            <input class="form-check-input"
                                   type="radio"
                                   name="SelectedRole"
                                   value="@role"
                                   id="@role"
                                   @(userRoleModel.UserRoles.Contains(role) ? "checked" : "") />
                            <label class="form-check-label" for="@role">
                                @role
                            </label>
                        </div>
                    }
                </div>
            </div>

            <button type="submit" class="btn btn-primary mt-3">Update Role</button>
        </form>
    </div>
}
